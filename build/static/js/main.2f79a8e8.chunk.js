(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,a){e.exports=a(385)},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(38),l=a.n(c),o=(a(180),a(181),a(7)),i=a(8),s=a(10),u=a(9),d=a(11),m=(a(182),a(85),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.setCurrentPage;return r.a.createElement("div",{className:"WrapperTop"},r.a.createElement("div",{className:"ButtonLink",onClick:function(){return e(0)}},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043c"),r.a.createElement("div",{className:"ButtonLink",onClick:function(){return e(2)}},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u043c"),r.a.createElement("div",{className:"ButtonLink",onClick:function(){return e(3)}},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u043f\u043e\u043b\u0443"),r.a.createElement("div",{className:"ButtonLink",onClick:function(){return e(1)}},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0434\u0438\u0430\u0433\u043d\u043e\u0437\u0430\u043c"))}}]),t}(r.a.Component)),h=(a(183),a(53)),f=a.n(h),p=(a(92),a(149)),v=(a(202),function(e){var t={};return e.data[0]&&(Object.keys(e.data[0]).forEach(function(e){return t[e]=0}),console.log(t),e.data.forEach(function(e){Object.keys(e).forEach(function(a){"department"!==a&&(t[a]+=+e[a])})}),console.log(t)),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",{className:"Header"},e.data[0]&&(e.headers||Object.keys(e.data[0])).map(function(e,t){return r.a.createElement("th",{className:"Cell",key:t},e)})),e.data.map(function(e,t){var a=Object.values(e),n=Object(p.a)(a),c=n[0],l=n.slice(1);return r.a.createElement("tr",{className:"Row",key:t},r.a.createElement("td",{className:"LeftLabel",key:t}," ",c),l.map(function(e,t){return r.a.createElement("td",{className:"Cell",key:t}," ",e)}))}),r.a.createElement("tr",{className:"Row"},Object.keys(t).map(function(e,a){return"department"===e?r.a.createElement("td",{className:"LeftLabel"}," \u0412\u0441\u0435\u0433\u043e : "):r.a.createElement("td",{className:"LeftLabel"}," ",t[e])}))))}),g=function(e){return e.split("-").reverse().join("-")},E=[{text:"1",value:"1"},{text:"2",value:"2"},{text:"3",value:"3"},{text:"4",value:"4"},{text:"5",value:"5"},{text:"6",value:"6"},{text:"7",value:"7"},{text:"8",value:"8"},{text:"9",value:"9"},{text:"10",value:"10"},{text:"\u0412\u0441\u0435 \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u0438\u044f",value:""}],b=function(e){for(var t="",a=0;a<e.length;a++){var n=null===e[a]?"":e[a].toString();e[a]instanceof Date&&(n=e[a].toLocaleString());var r=n.replace(/"/g,'""');r.search(/("|,|\n)/g)>=0&&(r='"'+r+'"'),a>0&&(t+=","),t+=r}return t+"\n"},j=function(e){var t="";return e.map(function(e){return Object.values(e)}).forEach(function(e){return t+=b(e)}),t},O=function(e,t){if(e[0]){var a=new Blob([b(t||Object.keys(e[0]))+j(e)],{type:"text/csv;charset=utf-8;"});return URL.createObjectURL(a)}};function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var C=r.a.createElement("path",{d:"M473.843,204.112H373.625V50.018C373.625,22.505,351.121,0,323.608,0H189.576  c-27.512,0-50.017,22.505-50.017,50.018v154.095H38.155c-27.512,0-35.851,17.492-18.536,38.867l204.893,252.982  c17.317,21.384,45.647,21.384,62.962,0l204.907-252.982C509.696,221.604,501.355,204.112,473.843,204.112z",fill:"#7F7F7F"}),N=function(e){var t=e.svgRef,a=k(e,["svgRef"]);return r.a.createElement("svg",y({enableBackground:"new 0 0 512 512",height:"15px",id:"Layer_1",viewBox:"0 0 512 512",width:"35px",xmlSpace:"preserve",ref:t},a),C)},S=r.a.forwardRef(function(e,t){return r.a.createElement(N,y({svgRef:t},e))}),w=(a.p,a(203),a(23));function x(e){return["#8884d8","#f40c0a","#81d88a","#443dd8","#3cd849","#d8c514","#af0596","#8884d8","#f45152","#81d88a","#443dd8","#8f3448","#d8c514","#af0596","#8884d8","#f45152","#81d88a","#443dd8","#8f3448","#d8c514","#af0596"][e]}var D=function(e){var t=e.data,a=e.dataKey;return r.a.createElement("div",{className:"Diagramm"},r.a.createElement(w.b,{width:1200,height:500,data:t,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(w.c,{strokeDasharray:"3 3"}),r.a.createElement(w.f,{dataKey:a}),r.a.createElement(w.g,null),r.a.createElement(w.e,null),r.a.createElement(w.d,null),t[0]&&Object.keys(t[0]).map(function(e,t){if(e!==a)return r.a.createElement(w.a,{dataKey:e,key:t,fill:x(t)})})))},L=(a(380),a(381),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,a=e.defaultString,n=e.title,c=e.onChange;return r.a.createElement("div",{className:"Select"},r.a.createElement("h2",{className:"Title"},n),r.a.createElement("select",{defaultValue:"255",onChange:c},r.a.createElement("option",{value:"255",disabled:!0},a),t.map(function(e,t){return r.a.createElement("option",{value:e.value,key:t},e.text)})))}}]),t}(n.Component)),P=(a(382),a(148)),R=a.n(P),B=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={checked:!0},a.checkValid=function(e){if(10===e.length){var t=e.split("-").map(function(e){return Number.parseInt(e)});return t[0]>0&&t[0]<32&&t[1]>0&&t[1]<13&&t[2]<=(new Date).getFullYear()&&t[2]>1e3}return!1},a.setFlag=function(e){a.setState({checked:a.checkValid(e)})},a.handleBlur=function(e){var t=a.props.onBlur,n=a.state.checked,r=e.target.value;""!==r&&(a.setFlag(r),console.log(r+(new Date).getFullYear()),n&&t(r))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.checkDate,n=this.state.checked;return r.a.createElement("div",{className:"InputM"},r.a.createElement("h2",{className:"Title"},t),r.a.createElement(R.a,{className:n?"normalInp":"errorInp",mask:"99-99-9999",onBlur:this.handleBlur}),r.a.createElement("p",{className:n&&a?"NoMes":"Message"}," \u041d\u0435\u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f "))}}]),t}(n.Component),A=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"f",value:function(e){}},{key:"render",value:function(){var e=this.props,t=e.dateStartChange,a=e.dateEndChange,n=e.sendReq,c=e.depChange,l=e.checkDate;return r.a.createElement("div",{className:"Menu"},r.a.createElement("div",{className:"Wrapper"},r.a.createElement(B,{title:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430",onBlur:t,checkDate:l}),r.a.createElement(B,{title:"\u0414\u0430\u0442\u0430 \u043a\u043e\u043d\u0446\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430",onBlur:a,checkDate:l}),r.a.createElement(L,{title:"\u041e\u0442\u0434\u0435\u043b\u0435\u043d\u0438\u0435",items:E,defaultString:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u0438\u0435",onChange:c}),r.a.createElement(L,{title:"\u041a\u043e\u0434 \u0434\u0438\u0430\u0433\u043d\u043e\u0437\u0430",items:E,defaultString:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u0434 \u0434\u0438\u0430\u0433\u043d\u043e\u0437\u0430",onChange:this.f})),r.a.createElement("button",{className:"submit",onClick:n},"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440\u043a\u0443"))}}]),t}(r.a.Component),_=["\u0414\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442","\u0434\u043e 18","18 - 19","20 - 24","25 - 29","30 - 34","35 - 39","40 - 44","45 - 49","50 - 54","55 - 59","60 +","70 +"],I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],dateStart:"2014-01-01",dateEnd:"2018-01-01",dep:""},a.normalizeAgeData=function(e){return e.map(function(e){return{department:e.department,under18:e.under18,age19:e[19],age22_24:e["20-24"],age25_29:e["25-29"],age30_34:e["30-34"],age35_39:e["35-39"],age40_44:e["40-44"],age45_49:e["45-49"],age50_54:e["50-54"],age55_59:e["55-59"],age60_64:e["60+"],age75:e["70+"]}})},a.sendReq=function(){var e=a.state,t=e.dateStart,n=e.dateEnd,r=e.dep;f()({method:"post",url:"http://localhost:3001/ageStatistic/",data:{dateStart:t,dateEnd:n,dep:r}}).then(function(e){console.log(e.data),a.setState({data:a.normalizeAgeData(e.data)}),console.log(a.state.data)}).catch(function(e){alert(e)})},a.dateStartChange=function(e){a.setState({dateStart:""!==e?g(e):"2014-01-01"})},a.dateEndChange=function(e){a.setState({dateEnd:""!==e?g(e):"2040-01-01"})},a.depChange=function(e){a.setState({dep:e.target.value.toString()})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.sendReq()}},{key:"componentDidUpdate",value:function(){O(this.state.data)}},{key:"checkDate",value:function(e,t){return Number.parseInt(e.split("-").join(""))<=Number.parseInt(t.split("-").join(""))}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.dateEnd,n=e.dateStart;return r.a.createElement("div",{className:"AgeStatistic"},r.a.createElement(A,{dateStartChange:this.dateStartChange,dateEndChange:this.dateEndChange,sendReq:this.sendReq,depChange:this.depChange,checkDate:this.checkDate(n,a)}),r.a.createElement("div",{className:"LabelContainer"},r.a.createElement("div",{className:"header"},r.a.createElement("h2",{className:"Label"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043c")),r.a.createElement("a",{className:"LinkCsv",href:O(t),download:"export.csv"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c ",r.a.createElement(S,null))),r.a.createElement(v,{data:t,headers:_}),r.a.createElement("div",{className:"header"},r.a.createElement("h2",{className:"Label"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043c")),r.a.createElement(D,{data:t,dataKey:"department"}))}}]),t}(r.a.Component),q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={now:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"DiagnoseStatistic")}}]),t}(r.a.Component),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={now:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"SexStatistic")}}]),t}(r.a.Component),M=["\u041a\u043e\u0434 \u0440\u0435\u0433\u0438\u043e\u043d\u0430","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u043e\u0432"],H=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],dateStart:"2014-01-01",dateEnd:"2018-01-01",dep:""},a.sendReq=function(){var e=a.state,t=e.dateStart,n=e.dateEnd,r=e.dep;f()({method:"post",url:"http://localhost:3001/regionStatistic/",data:{dateStart:t,dateEnd:n,dep:r}}).then(function(e){console.log(e.data),a.setState({data:e.data}),console.log(a.state.data)}).catch(function(e){alert(e)})},a.dateStartChange=function(e){a.setState({dateStart:g(e)})},a.dateEndChange=function(e){a.setState({dateEnd:g(e)})},a.depChange=function(e){a.setState({dep:e.target.value.toString()})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.sendReq()}},{key:"checkDate",value:function(e,t){return Number.parseInt(e.split("-").join(""))<=Number.parseInt(t.split("-").join(""))}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.dateStart,n=e.dateEnd;return r.a.createElement("div",{className:"RegStatistic"},r.a.createElement(A,{dateStartChange:this.dateStartChange,dateEndChange:this.dateEndChange,sendReq:this.sendReq,depChange:this.depChange,checkDate:this.checkDate(a,n)}),r.a.createElement("div",{className:"LabelContainer"},r.a.createElement("div",{className:"header"},r.a.createElement("h2",{className:"Label"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u043c")),r.a.createElement("a",{className:"LinkCsv",href:O(t),download:"export.csv"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c ",r.a.createElement(S,null))),r.a.createElement(v,{data:t,headers:M}),r.a.createElement("div",{className:"header"},r.a.createElement("h2",{className:"Label"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0434\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u0430 \u043f\u043e \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u043c")),r.a.createElement(D,{data:t,dataKey:"region_code"}))}}]),t}(r.a.Component),K=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={},a.getPages=function(){return[{component:r.a.createElement(I,null)},{component:r.a.createElement(q,null)},{component:r.a.createElement(H,null)},{component:r.a.createElement(F,null)}]},a.renderPage=function(e){return a.getPages()[e].component},a.setData=function(e,t,n){a.setState({data:{dateS:e,dateE:t,dep:n}})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.currentPage;return r.a.createElement("div",{className:"PageHolder"},this.renderPage(e))}}]),t}(r.a.Component);K.defaultProps={currentPage:0};var V=K,W=(a(384),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:0},a.setCurrentPage=function(e){a.setState({currentPage:e})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.currentPage;return r.a.createElement("div",{className:"Home"},r.a.createElement(m,{setCurrentPage:this.setCurrentPage}),r.a.createElement("div",{className:"content"},r.a.createElement(V,{currentPage:e})))}}]),t}(r.a.Component)),z=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(W,null)}}]),t}(r.a.Component),T=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},92:function(e,t,a){}},[[175,1,2]]]);
//# sourceMappingURL=main.2f79a8e8.chunk.js.map